var mysql = require('mysql');
var connection = mysql.createConnection({
      host     : 'localhost',
      user     : 'root',
      password : '',
      database : 'bomberman_BD',
    });


var seConnecter = function() {
    connection.connect();
}
var seDeconnecter = function() {
    connection.end();
}
var insererUser = function(fn,ln,ps,em,pa) {
    connection.query('insert into user (firstname,lastname,pseudo, email, password) values ("' + fn + '", "' + ln + '", "' + ps + '", "' + em + '", "' + pa + '")');

}
var insererGame = function(p1,p2) {
    connection.query('insert into game (player1,player2) values ("' + p1 + '", "' + p2 + '")');

}
var winner = function(p) {
    connection.query('insert into winner (player) values ("' + p + '")');

}
var loser = function(p) {
    connection.query('insert into loser (player) values ("' + p + '")');

}
var supprimerGame = function(p1) {
    connection.query('delete from game WHERE player1="'+p1+'" || player2="'+p1+'"');

}

var requete = function(login,password,res) {

    connection.query( 'SELECT firstname , lastname , email  FROM user WHERE pseudo="'+login+'" AND password="'+password+'"', function(err, rows) {
        if(rows) ;
    });
    
}

exports.seConnecter = seConnecter;
exports.seDeconnecter = seDeconnecter;
exports.requete = requete;
exports.insererUser = insererUser;
exports.insererGame = insererGame;
exports.winner = winner;
exports.loser = loser;
